<app-header (logout)="logout()" (click)="clickOutFilters()" id="app-header"></app-header>

<div id="right-menu" (click)="clickOutFilters()">
	<app-right-menu
		(executeCommand)="onExecuteCommandEvent($event)"
		(logout)="logout()"
		(commandResult)="onCommandResult($event)"
        (onOpenPkey)="setPkey($event)"
	></app-right-menu>
</div>

<ion-content fullscreen="true" forceOverscroll="false" style="--keyboard-offset: 0px !important">
	<div id="terminal-page">
		<app-terminal
			id="terminal1"
			[ngClass]="{selected: !isSecondTerminalSelected}"
			[content]="terminal1Content"
			(click)="onTerminalClick($event, false)"
			(submit)="onTerminalSubmit($event)"
		>
		</app-terminal>
		<app-terminal
			*ngIf="showTwoTerminals"
			id="terminal2"
			[ngClass]="{selected: isSecondTerminalSelected}"
			[content]="terminal2Content"
			(click)="onTerminalClick($event, true)"
			(submit)="onTerminalSubmit($event)"
		>
		</app-terminal>

		<app-calendar-picker [selected]="selected" (submitEvent)="submitCalendar($event)" *ngIf="isCalendar"></app-calendar-picker>

		<ion-button id="filters" *ngIf="hasFilters" class="fixed-btn btn-filters" size="small" shape="round" (click)="onFilterBtnClick()">
			<ion-icon size="small" slot="icon-only" name="filter"></ion-icon>
		</ion-button>

		<div class="fixed-btn left-down-btns">
			<ion-button *ngIf="hasItemsToEmail" size="small" shape="round" (click)="onEmailItemsClick()">
				<ion-icon slot="start" size="small" name="mail"></ion-icon>
				({{ emailItems.length }})
			</ion-button>
			<ion-button *ngIf="showBtnMu" size="small" shape="round" (click)="executeMdMuCommands('MU')">
				<ion-icon size="small" slot="icon-only" name="caret-up"></ion-icon>
			</ion-button>
			<ion-button *ngIf="showBtnMd" size="small" shape="round" (click)="executeMdMuCommands('MD')">
				<ion-icon size="small" slot="icon-only" name="caret-down"></ion-icon>
			</ion-button>
		</div>
	</div>
</ion-content>

<app-filters *ngIf="areFilters" forceOverscroll="false" class="filters" (allowCommands)="allowCommands()" 
(exitFilters)="exitFilters()"></app-filters>

<app-brands-and-ancillaries [data]="data" (closeEvent)="onBrandClose()" *ngIf="isBrandAcc" class="brands"></app-brands-and-ancillaries>

<app-email-items (exitEmailItems)="exitEmailItems()" *ngIf="isEmail" 
	class="email-items"></app-email-items>

<ion-footer *ngIf="canWriteCommands">
	<app-bottom-bar [pkeyIndex]="selectedPkey" (commandSubmit)="onCommandInputSubmit($event)"></app-bottom-bar>
</ion-footer>



